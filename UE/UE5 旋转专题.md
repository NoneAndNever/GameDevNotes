# UE5 Rotation 旋转专题

旋转是游戏开发中常用的三维变换之一，它可以改变物体的朝向和姿态。UE 中提供了多种方式来表示和操作旋转，其中最常见的是欧拉角、四元数和旋转矩阵。

在这之前，再明确一下。

**朝向**(Orientation)是一种**状态**，而**旋转**(Rotation)是用来描述朝向这种**状态**和**状态**之间的**变换**。所以在旋转过程中，我们会涉及到初始朝向和目标朝向之间的问题，而当我们试图描述朝向时又不可避免地会遇到参考系选择的问题。

可能有一点难以理解，我们来举例说明一下，先不用旋转，先用一个更好理解的平移变换来举例说明

在平移变换中，我们涉及到了哪些要素？

- 状态（点）
- 变换（平移）
- 参考系

如图所示，在一个平面中有A、B两点，由A到B的箭头表示变换



**欧拉角**是一种用三个角度来描述物体绕不同轴旋转的方法，它们分别是俯仰角（Pitch）、偏航角（Yaw）和滚动角（Roll）。UE 中用 **FRotator** 类来封装欧拉角，它有三个成员变量：Pitch、Yaw 和 Roll。FRotator 多用于对外接口，因为它比较直观和易于理解。

在正式介绍欧拉角之前，默认你知道一个基本点（三个互不共面的向量可以）

## 关于四元数

**四元数**是一种用四个实数来表示旋转的方法，它们分别是 X、Y、Z 和 W。UE 中用 **FQuat** 类来封装四元数，它也有四个成员变量：X、Y、Z 和 W。FQuat 多用于内部实现，因为它可以轻易地串接旋转和进行旋转插值，而且避免了欧拉角的万向节锁问题。

**旋转矩阵**是一种用 3x3 或 4x4 的矩阵来表示旋转的方法，它可以通过欧拉角或四元数来构造。UE 中用 **FRotationMatrix** 类来封装旋转矩阵，它继承自 **FMatrix** 类。旋转矩阵可以用于移动操作或者与其他矩阵相乘。

## 四元数转换成欧拉角